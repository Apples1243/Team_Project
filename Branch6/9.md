## 9 원격 브랜치

### 9.1 리모트 브랜치

> 저장소는 각자의 고유한 브랜치를 생성하고 관리합니다. 원격 저장소에 생성한 브랜치를 ***리모트 브랜치***라고 합니다.

* 로컬 저장소에 생성한 브랜치는 서버로 공유할 수 있습니다. 원격 저장소와 연결된 로컬 저장소에서 새로운 브랜치를 생성한다고 해서 자동으로 원격 저장소에도 브랜치가 생성되는 것은 아닙니다. 또 원격 저장소에 등록된 브랜치가 자동으로 로컬 저장소를 만들지도 않습니다. 별도 명령을 실행하여 ***저장소를 동기화***해야 합니다.

### 9.2 실습 준비

<img src=https://user-images.githubusercontent.com/65354879/194826308-29e63e30-aac1-4173-a5e7-159b82f196be.png weight='200' height='200'>

* 실습을 위한 저장소를 만드신 후 해당 url을 복사하여 원격 저장소를 등록합시다.

```git
유성@DESKTOP-F931CP0 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git remote add origin https://github.com/yousung1020/gitstudy06

유성@DESKTOP-F931CP0 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git remote -v
origin  https://github.com/yousung1020/gitstudy06 (fetch)
origin  https://github.com/yousung1020/gitstudy06 (push)
```

### 9.3 브랜치 추적

> 깃의 브랜치는 특정 커밋 해시 값을 가리키는 포인터입니다. 그리고 원격 저장소의 브랜치를 가리키는 것을 ***추적 브랜치***이라고 합니다.

* 추적 브랜치는 다른 말로 트래킹 브랜치라고도 합니다. 이 포인터 정보는 .git/refs/ 폴더 안에 저장되어 있습니다.

```git
choi@Shooting-Star1020 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ ls .git/refs/
heads/  tags/
```
* 로컬 저장소는 마지막으로 연결된 리모트 브랜치의 커밋 해시 값을 항상 가지고 있습니다.

### 9.4 브랜치 업로드 

> 지금까지 로컬 저장소에서만 브랜치를 생성했습니다. 로컬 저장소의 브랜치 정보는 원격 저장소에 자동으로 등록되지 않습니다.

* 등록된 원격 저장소의 리모트 브랜치는 ***remote show*** 명령어로 확인할 수 있습니다.

```git
choi@Shooting-Star1020 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git remote show origin
* remote origin
  Fetch URL: https://github.com/yousung1020/gitstudy06.git
  Push  URL: https://github.com/yousung1020/gitstudy06.git
  HEAD branch: main
  Remote branch:
    main new (next fetch will store in remotes/origin)
```

* 아직 리모트 브랜치가 없습니다. ***리모트 브랜치는 서버 간에 통신을 하고 나서 생성됩니다.***

* 로컬 저장소의 브랜치를 원격 저장소에 동기화하려면 push 작업을 해야 합니다.

```git
choi@Shooting-Star1020 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git push origin master
Enumerating objects: 6, done.
Counting objects: 100% (6/6), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (6/6), 560 bytes | 280.00 KiB/s, done.
Total 6 (delta 0), reused 0 (delta 0), pack-reused 0
remote:
remote: Create a pull request for 'master' on GitHub by visiting:
remote:      https://github.com/yousung1020/gitstudy06/pull/new/master
remote:
To https://github.com/yousung1020/gitstudy06.git
 * [new branch]      master -> master  < -- 리모트 브랜치가 생성되었다는 의미
```

* 깃허브 저장소로 이동해서 확인하여 보면, 이전과 달리 master 브랜치가 생성되었고 관련된 커밋이 등록되었습니다.

![image](https://user-images.githubusercontent.com/65354879/194887789-9096ba53-e8b2-40d7-86e9-808486942501.png)
> master 브랜치가 추가됨을 확인할 수 있습니다.

* 다시 현재 로컬 저장소의 브랜치를 확인합니다.

```git
choi@Shooting-Star1020 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git branch -v
  feature cff8daa first
  footer  cff8daa first
* hotfix  3618456 master working...
  master  3618456 master working...
```

* 로컬 저장소에 브래치가 4개 있지만, 깃허브에는 master 브랜치만 있습니다.

* hotfix 브랜치도 원격 저장소에 등록하여 봅시다.

```git
choi@Shooting-Star1020 MINGW64 /c/OSS/git/gitstudy06 (hotfix)
$ git push origin hotfix
Total 0 (delta 0), reused 0 (delta 0), pack-reused 0
remote:
remote: Create a pull request for 'hotfix' on GitHub by visiting:
remote:      https://github.com/yousung1020/gitstudy06/pull/new/hotfix
remote:
To https://github.com/yousung1020/gitstudy06.git
 * [new branch]      hotfix -> hotfix  < -- 리모트 브랜치 생성
```

* 정상적으로 push가 완료되었으니 깃허브에서 리모트 브랜치가 추가되었는지 확인하여 봅시다.

![image](https://user-images.githubusercontent.com/65354879/194889317-21462f25-d6cf-4e24-a083-69397efff8d0.png)
> hotfix 브랜치가 추가됨을 확인할 수 있습니다

[다음으로 이동하기](https://github.com/MSYJ1234/Team_Project/blob/main/Branch6/10%2C11.md)
